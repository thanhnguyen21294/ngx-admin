<nb-layout id="register">
  <nb-layout-column>
    <nb-card class="card-register">
      <nb-card-header class="text-center">
        <h2>Register</h2>
      </nb-card-header>
      <nb-card-body>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="username">User <span class="text-danger">*</span></label>
            <input nbInput fullWidth placeholder="Enter user name" type="text" name="username"
              formControlName="username">
            <small *ngIf="registerForm.get('username').errors?.required && registerForm.get('username').touched"
              class="alert text-danger">User name is required.</small>
          </div>
          <div class="form-group">
            <label for="email">Email <span class="text-danger">*</span></label>
            <input nbInput fullWidth placeholder="Enter email" type="email" name="email" formControlName="email">
            <small *ngIf="registerForm.get('email').errors?.required && registerForm.get('email').touched"
              class="alert text-danger">Email is required.</small>
            <small *ngIf="registerForm.get('email').errors?.email" class="alert text-danger">Email must be a valid email
              address</small>
          </div>
          <div class="form-group">
            <label for="password">Password <span class="text-danger">*</span></label>
            <input nbInput fullWidth placeholder="Password" type="password" name="password" formControlName="password">
            <small *ngIf="registerForm.get('password').errors?.required && registerForm.get('password').touched"
              class="alert text-danger">Password is required.</small>
            <small *ngIf="registerForm.get('password').errors?.minlength" class="alert text-danger">Password must have
              minimum of 6 characters</small>
          </div>
          <div class="form-group">
            <label for="confirmPassword">Confirm Password <span class="text-danger">*</span></label>
            <input nbInput fullWidth placeholder="Confirm Password" type="password" name="confirmPassword"
              formControlName="confirmPassword">
            <small
              *ngIf="registerForm.get('confirmPassword').errors?.required && registerForm.get('confirmPassword').touched"
              class="alert text-danger">Confirm Password is required.</small>
            <small *ngIf="registerForm.get('confirmPassword').errors?.passwordMismatch"
              class="alert text-danger">Confirm
              Password must match Password</small>
          </div>
          <div class="form-group">
            <label for="firstname">First name</label>
            <input nbInput fullWidth placeholder="First name" type="text" name="firstname" formControlName="firstname">
          </div>
          <div class="form-group">
            <label for="lastname">Last name</label>
            <input nbInput fullWidth placeholder="Last name" type="text" name="lastname" formControlName="lastname">
          </div>
          <div class="form-group">
            <label>Gender <span class="text-danger">*</span></label>
            <div class="col">
              <nb-radio-group formControlName="gender" class="d-flex justify-content-around">
                <nb-radio *ngFor="let option of genderOptions" [value]="option.value" class="gender-checked">{{
                  option.label
                  }}</nb-radio>
              </nb-radio-group>
            </div>
            <small *ngIf="registerForm.get('gender').errors?.required" class="alert text-danger">Gender is
              required.</small>
          </div>
          <div class="form-group">
            <label for="phone">Phone number <span class="text-danger">*</span></label>
            <input nbInput fullWidth placeholder="Enter phone number" type="text" name="phone" formControlName="phone">
            <small *ngIf="registerForm.get('phone').errors?.required && registerForm.get('phone').touched"
              class="alert text-danger">Phone number is required.</small>
            <small *ngIf="registerForm.get('phone').hasError('pattern')" class="alert text-danger">
              Phone must contain only numbers
            </small>
            <small *ngIf="registerForm.get('phone').errors?.minlength" class="alert text-danger">Phone number must have
              minimum of 9 characters</small>
          </div>
          <div class="form-group">
            <label for="birthday">Birthday <span class="text-danger">*</span></label>
            <input [nbDatepicker]="datepicker" formControlName="birthday" id="birthday" class="form-control">
            <nb-datepicker #datepicker format="yyyy-MM-dd"></nb-datepicker>
            <div
              *ngIf="registerForm.get('birthday').invalid && (registerForm.get('birthday').dirty || registerForm.get('birthday').touched)">
              <small *ngIf="registerForm.get('birthday').hasError('required')" class="alert text-danger">
                Birthday is required
              </small>
            </div>
          </div>
          <div class="form-group mt-2">
            <div class="row d-flex justify-content-center">
              <button type="submit" nbButton status="primary">Submit</button>
            </div>
            <div class="form-group mt-2 d-flex justify-content-center">
              <p>Already have account? <a (click)="backToLogin()">Back to login</a></p>
            </div>
          </div>
        </form>
      </nb-card-body>
    </nb-card>
  </nb-layout-column>
</nb-layout>
